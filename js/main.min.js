"use strict";

if ('NodeList' in window && !NodeList.prototype.forEach) {
  console.info('polyfill for IE11');

  NodeList.prototype.forEach = function (callback, thisArg) {
    thisArg = thisArg || window;

    for (var i = 0; i < this.length; i++) {
      callback.call(thisArg, this[i], i, this);
    }
  };
}

(function (e) {
  e.closest = e.closest || function (css) {
    var node = this;

    while (node) {
      if (node.matches(css)) return node;
      node = node.parentElement;
    }

    return null;
  };
})(Element.prototype);

if (!Element.prototype.matches) {
  Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {
    var matches = (this.document || this.ownerDocument).querySelectorAll(s),
        i = matches.length;

    while (--i >= 0 && matches.item(i) !== this) {}

    return i > -1;
  };
}

var swiper = new Swiper('.swiper-ads', {
  slidesPerView: 1.1,
  spaceBetween: 20,
  breakpoints: {
    480: {
      slidesPerView: 1.4,
      spaceBetween: 30
    },
    520: {
      slidesPerView: 1.8,
      spaceBetween: 30
    },
    680: {
      slidesPerView: 2.2,
      spaceBetween: 30
    },
    780: {
      slidesPerView: 2.8,
      spaceBetween: 30
    },
    992: {
      slidesPerView: 3,
      spaceBetween: 40
    },
    1280: {
      slidesPerView: 3.7,
      spaceBetween: 40
    }
  },
  navigation: {
    nextEl: '.swiper-ads-button-next',
    prevEl: '.swiper-ads-button-prev'
  },
  scrollbar: {
    el: '.swiper-scrollbar',
    hide: true
  }
});
var swiper2 = new Swiper('.banner', {
  effect: 'fade',
  pagination: {
    el: '.swiper-pagination',
    type: 'progressbar'
  },
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev'
  }
});

var counterSwiper = function counterSwiper() {
  var slides = document.querySelectorAll('.banner__item');
  var slideTotal = document.querySelector('.banner__counter-next');
  slideTotal.innerHTML = "".concat("0".concat(slides.length));
};

var counterSwiper2 = function counterSwiper2() {
  var slides = document.querySelectorAll('.banner__item');
  var slidePrev = document.querySelector('.banner__counter-prev');
  slides.forEach(function (item, index) {
    if (item.classList.contains('swiper-slide-active')) {
      slidePrev.innerHTML = "".concat("0".concat(index + 1));
    }
  });
};

swiper2.on('slideChangeTransitionStart', counterSwiper2);
counterSwiper();
var swiper3 = new Swiper('.swiper-news', {
  slidesPerView: 1.1,
  spaceBetween: 20,
  breakpoints: {
    470: {
      slidesPerView: 1.5,
      spaceBetween: 20
    },
    580: {
      slidesPerView: 1.8,
      spaceBetween: 20
    },
    700: {
      slidesPerView: 2.1,
      spaceBetween: 20
    },
    780: {
      slidesPerView: 2.4,
      spaceBetween: 20
    },
    992: {
      slidesPerView: 3,
      spaceBetween: 20
    },
    1280: {
      slidesPerView: 3,
      spaceBetween: 30
    }
  },
  navigation: {
    nextEl: '.swiper-news-button-next',
    prevEl: '.swiper-news-button-prev'
  },
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
    dynamicBullets: true
  }
});

var select = function select() {
  var selectCurrent = document.querySelectorAll('.select__header'),
      selectItem = document.querySelectorAll('.select__item');
  selectCurrent.forEach(function (item) {
    item.addEventListener('click', function (e) {
      e.currentTarget.parentElement.classList.toggle('select--opened');
    });
  });
  selectItem.forEach(function (item) {
    item.addEventListener('click', function (e) {
      e.currentTarget.closest('.select').querySelector('.select__current').innerHTML = e.currentTarget.innerHTML;
      e.currentTarget.closest('.select').classList.remove('select--opened');
    });
  });
};

select();

var sandwich = function sandwich() {
  var sandwichButton = document.querySelector('.sandwich__open-btn');
  var sandwichClose = document.querySelector('.sandwich__close-btn');
  var content = document.querySelector('.sandwich__content');
  var menu = document.querySelector('.sandwich__menu');
  var submenu = document.querySelector('.sandwich-submenu');
  sandwichButton.addEventListener('click', function () {
    menu.classList.add('sandwich__menu--opened');
    content.classList.add('sandwich__content--active');
    document.body.style.overflow = 'hidden';
  });
  content.addEventListener('click', function () {
    menu.classList.remove('sandwich__menu--opened');
    this.classList.remove('sandwich__content--active');
    document.body.style.overflow = 'visible';
  });
  sandwichClose.addEventListener('click', function () {
    menu.classList.remove('sandwich__menu--opened');
    content.classList.remove('sandwich__content--active');
    submenu.classList.remove('sandwich-submenu--opened');
    document.body.style.overflow = 'visible';
  });
};

sandwich();

var submenuToggle = function submenuToggle() {
  var optionBtn = document.querySelectorAll('.sandwich-nav__link');
  var backBtn = document.querySelectorAll('.sandwich-submenu__back');
  var closeBtn = document.querySelectorAll('.sandwich-submenu__close');
  optionBtn.forEach(function (item) {
    item.addEventListener('click', function (event) {
      event.currentTarget.closest('.sandwich-nav__item').querySelector('.sandwich-submenu').classList.toggle('sandwich-submenu--opened');
    });
  });
  backBtn.forEach(function (item) {
    item.addEventListener('click', function (event) {
      event.currentTarget.closest('.sandwich-nav__item').querySelector('.sandwich-submenu').classList.remove('sandwich-submenu--opened');
    });
  });
  closeBtn.forEach(function (item) {
    item.addEventListener('click', function (event) {
      event.currentTarget.closest('.sandwich').querySelector('.sandwich__menu').classList.remove('sandwich__menu--opened');
      event.currentTarget.closest('.sandwich').querySelector('.sandwich__content').classList.remove('sandwich__content--active');
      event.currentTarget.closest('.sandwich-nav__item').querySelector('.sandwich-submenu').classList.remove('sandwich-submenu--opened');
    });
  });
};

submenuToggle();

var tab = function tab() {
  var tabNav = document.querySelectorAll('.tabs-nav__item'),
      // Выбираем элементы навигации табов
  tabContent = document.querySelectorAll('.tabs-content__item'),
      // Выбираем самы табы
  tabName; // Переменная для имени таба
  // Проходим циклом по каждому элементу навигации и навешиваем обработчик клика, который вызывает функцию selectTabNav

  tabNav.forEach(function (item) {
    item.addEventListener('click', selectTabNav);
  });

  function selectTabNav(evt) {
    evt.currentTarget.closest('.tabs-nav').querySelectorAll('.tabs-nav__item').forEach(function (item) {
      // Удаляем активный класс у всех элементов навигации табов
      item.classList.remove('tabs-nav__item--active');
    });
    this.classList.add('tabs-nav__item--active'); // Добавляем активный укласс у элемента по которому кликнули

    tabName = this.getAttribute('data-tab-name'); // Получаем имя таба, который нам нужен

    var searchEl = evt.currentTarget.closest('.tabs-nav').nextElementSibling;
    console.log(searchEl);
    searchEl ? searchEl.querySelectorAll('.tabs-content__item').forEach(function (item) {
      var classList = item.classList;
      classList.contains(tabName) ? classList.add('is-active') : classList.remove('is-active');
    }) : evt.currentTarget.closest('.news-tabs').querySelectorAll('.tabs-content__item').forEach(function (item) {
      var classList = item.classList;
      classList.contains(tabName) ? classList.add('is-active') : classList.remove('is-active');
    }); // Запускаем функцию, чтобы показать выбранный таб
  }
};

tab();

var selectClose = function selectClose() {
  var selectItems = document.querySelectorAll('.select');
  window.addEventListener('click', function () {
    selectItems.forEach(function (item) {
      item.classList.remove('select--opened');
    });
  });
  selectItems.forEach(function (item) {
    item.addEventListener('click', function (e) {
      e.stopPropagation();
    });
  });
};

selectClose();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiTm9kZUxpc3QiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY29uc29sZSIsImluZm8iLCJjYWxsYmFjayIsInRoaXNBcmciLCJpIiwibGVuZ3RoIiwiY2FsbCIsImUiLCJjbG9zZXN0IiwiY3NzIiwibm9kZSIsIm1hdGNoZXMiLCJwYXJlbnRFbGVtZW50IiwiRWxlbWVudCIsIm1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInMiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXRlbSIsInN3aXBlciIsIlN3aXBlciIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJicmVha3BvaW50cyIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJzY3JvbGxiYXIiLCJlbCIsImhpZGUiLCJzd2lwZXIyIiwiZWZmZWN0IiwicGFnaW5hdGlvbiIsInR5cGUiLCJjb3VudGVyU3dpcGVyIiwic2xpZGVzIiwic2xpZGVUb3RhbCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJjb3VudGVyU3dpcGVyMiIsInNsaWRlUHJldiIsImluZGV4IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJvbiIsInN3aXBlcjMiLCJjbGlja2FibGUiLCJkeW5hbWljQnVsbGV0cyIsInNlbGVjdCIsInNlbGVjdEN1cnJlbnQiLCJzZWxlY3RJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRUYXJnZXQiLCJ0b2dnbGUiLCJyZW1vdmUiLCJzYW5kd2ljaCIsInNhbmR3aWNoQnV0dG9uIiwic2FuZHdpY2hDbG9zZSIsImNvbnRlbnQiLCJtZW51Iiwic3VibWVudSIsImFkZCIsImJvZHkiLCJzdHlsZSIsIm92ZXJmbG93Iiwic3VibWVudVRvZ2dsZSIsIm9wdGlvbkJ0biIsImJhY2tCdG4iLCJjbG9zZUJ0biIsImV2ZW50IiwidGFiIiwidGFiTmF2IiwidGFiQ29udGVudCIsInRhYk5hbWUiLCJzZWxlY3RUYWJOYXYiLCJldnQiLCJnZXRBdHRyaWJ1dGUiLCJzZWFyY2hFbCIsIm5leHRFbGVtZW50U2libGluZyIsImxvZyIsInNlbGVjdENsb3NlIiwic2VsZWN0SXRlbXMiLCJzdG9wUHJvcGFnYXRpb24iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxjQUFjQSxNQUFkLElBQXdCLENBQUNDLFFBQVEsQ0FBQ0MsU0FBVCxDQUFtQkMsT0FBaEQsRUFBeUQ7QUFDeERDLEVBQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLG1CQUFiOztBQUNBSixFQUFBQSxRQUFRLENBQUNDLFNBQVQsQ0FBbUJDLE9BQW5CLEdBQTZCLFVBQVVHLFFBQVYsRUFBb0JDLE9BQXBCLEVBQTZCO0FBQ3pEQSxJQUFBQSxPQUFPLEdBQUdBLE9BQU8sSUFBSVAsTUFBckI7O0FBQ0EsU0FBSyxJQUFJUSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtDLE1BQXpCLEVBQWlDRCxDQUFDLEVBQWxDLEVBQXNDO0FBQ3JDRixNQUFBQSxRQUFRLENBQUNJLElBQVQsQ0FBY0gsT0FBZCxFQUF1QixLQUFLQyxDQUFMLENBQXZCLEVBQWdDQSxDQUFoQyxFQUFtQyxJQUFuQztBQUNBO0FBQ0QsR0FMRDtBQU1BOztBQUVBLFdBQVVHLENBQVYsRUFBYTtBQUNiQSxFQUFBQSxDQUFDLENBQUNDLE9BQUYsR0FBWUQsQ0FBQyxDQUFDQyxPQUFGLElBQWEsVUFBVUMsR0FBVixFQUFlO0FBQ3ZDLFFBQUlDLElBQUksR0FBRyxJQUFYOztBQUVBLFdBQU9BLElBQVAsRUFBYTtBQUNaLFVBQUlBLElBQUksQ0FBQ0MsT0FBTCxDQUFhRixHQUFiLENBQUosRUFBdUIsT0FBT0MsSUFBUDtBQUN2QkEsTUFBQUEsSUFBSSxHQUFHQSxJQUFJLENBQUNFLGFBQVo7QUFDQTs7QUFDRCxXQUFPLElBQVA7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bmRvdyAmJiAhTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2gpIHtcblx0Y29uc29sZS5pbmZvKCdwb2x5ZmlsbCBmb3IgSUUxMScpO1xuXHROb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHRoaXNBcmcgPSB0aGlzQXJnIHx8IHdpbmRvdztcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpc1tpXSwgaSwgdGhpcyk7XG5cdFx0fVxuXHR9O1xufVxuXG4oZnVuY3Rpb24gKGUpIHtcblx0ZS5jbG9zZXN0ID0gZS5jbG9zZXN0IHx8IGZ1bmN0aW9uIChjc3MpIHtcblx0XHRsZXQgbm9kZSA9IHRoaXM7XG5cblx0XHR3aGlsZSAobm9kZSkge1xuXHRcdFx0aWYgKG5vZGUubWF0Y2hlcyhjc3MpKSByZXR1cm4gbm9kZTtcblx0XHRcdG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG59KEVsZW1lbnQucHJvdG90eXBlKSk7XG5cbmlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuXHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3JcbiAgICAgIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvclxuICAgICAgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3JcbiAgICAgIHx8IEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3JcbiAgICAgIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvclxuICAgICAgfHwgZnVuY3Rpb24gKHMpIHtcbiAgICAgIFx0bGV0IG1hdGNoZXMgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyksXG4gICAgICBcdFx0aSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgXHR3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSB0aGlzKSB7fVxuICAgICAgXHRyZXR1cm4gaSA+IC0xO1xuICAgICAgfTtcbn1cblxuY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1hZHMnLCB7XG5cdHNsaWRlc1BlclZpZXc6IDEuMSxcblx0c3BhY2VCZXR3ZWVuOiAyMCxcblx0YnJlYWtwb2ludHM6IHtcblxuXHRcdDQ4MDoge1xuXHRcdFx0c2xpZGVzUGVyVmlldzogMS40LFxuXHRcdFx0c3BhY2VCZXR3ZWVuOiAzMCxcblx0XHR9LFxuXG5cdFx0NTIwOiB7XG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAxLjgsXG5cdFx0XHRzcGFjZUJldHdlZW46IDMwLFxuXHRcdH0sXG5cdFx0NjgwOiB7XG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAyLjIsXG5cdFx0XHRzcGFjZUJldHdlZW46IDMwLFxuXHRcdH0sXG5cdFx0NzgwOiB7XG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAyLjgsXG5cdFx0XHRzcGFjZUJldHdlZW46IDMwLFxuXHRcdH0sXG5cdFx0OTkyOiB7XG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAzLFxuXHRcdFx0c3BhY2VCZXR3ZWVuOiA0MCxcblx0XHR9LFxuXHRcdDEyODA6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDMuNyxcblx0XHRcdHNwYWNlQmV0d2VlbjogNDAsXG5cdFx0fSxcblx0fSxcblx0bmF2aWdhdGlvbjoge1xuXHRcdG5leHRFbDogJy5zd2lwZXItYWRzLWJ1dHRvbi1uZXh0Jyxcblx0XHRwcmV2RWw6ICcuc3dpcGVyLWFkcy1idXR0b24tcHJldicsXG5cdH0sXG5cdHNjcm9sbGJhcjoge1xuXHRcdGVsOiAnLnN3aXBlci1zY3JvbGxiYXInLFxuXHRcdGhpZGU6IHRydWUsXG5cdH0sXG59KTtcblxuY29uc3Qgc3dpcGVyMiA9IG5ldyBTd2lwZXIoJy5iYW5uZXInLCB7XG5cdGVmZmVjdDogJ2ZhZGUnLFxuXHRwYWdpbmF0aW9uOiB7XG5cdFx0ZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuXHRcdHR5cGU6ICdwcm9ncmVzc2JhcicsXG5cblx0fSxcblx0bmF2aWdhdGlvbjoge1xuXHRcdG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxuXHRcdHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxuXHR9LFxufSk7XG5cbmNvbnN0IGNvdW50ZXJTd2lwZXIgPSAoKSA9PiB7XG5cdGNvbnN0IHNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYW5uZXJfX2l0ZW0nKTtcblx0Y29uc3Qgc2xpZGVUb3RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW5uZXJfX2NvdW50ZXItbmV4dCcpO1xuXG5cdHNsaWRlVG90YWwuaW5uZXJIVE1MID0gYCR7YDAke3NsaWRlcy5sZW5ndGh9YH1gO1xufVxuXG5jb25zdCBjb3VudGVyU3dpcGVyMiA9ICgpID0+IHtcblx0Y29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhbm5lcl9faXRlbScpO1xuXHRjb25zdCBzbGlkZVByZXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFubmVyX19jb3VudGVyLXByZXYnKTtcblxuXHRzbGlkZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZS1hY3RpdmUnKSkge1xuXHRcdFx0c2xpZGVQcmV2LmlubmVySFRNTCA9IGAke2AwJHtpbmRleCArIDF9YH1gO1xuXHRcdH1cblx0fSk7XG59XG5cbnN3aXBlcjIub24oJ3NsaWRlQ2hhbmdlVHJhbnNpdGlvblN0YXJ0JywgY291bnRlclN3aXBlcjIpO1xuXG5jb3VudGVyU3dpcGVyKCk7XG5cbmNvbnN0IHN3aXBlcjMgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLW5ld3MnLCB7XG5cdHNsaWRlc1BlclZpZXc6IDEuMSxcblx0c3BhY2VCZXR3ZWVuOiAyMCxcblx0YnJlYWtwb2ludHM6IHtcblx0XHQ0NzA6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDEuNSxcblx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0fSxcblx0XHQ1ODA6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDEuOCxcblx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0fSxcblx0XHQ3MDA6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDIuMSxcblx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0fSxcblx0XHQ3ODA6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDIuNCxcblx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0fSxcblx0XHQ5OTI6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG5cdFx0XHRzcGFjZUJldHdlZW46IDIwLFxuXHRcdH0sXG5cdFx0MTI4MDoge1xuXHRcdFx0c2xpZGVzUGVyVmlldzogMyxcblx0XHRcdHNwYWNlQmV0d2VlbjogMzAsXG5cdFx0fSxcblx0fSxcblx0bmF2aWdhdGlvbjoge1xuXHRcdG5leHRFbDogJy5zd2lwZXItbmV3cy1idXR0b24tbmV4dCcsXG5cdFx0cHJldkVsOiAnLnN3aXBlci1uZXdzLWJ1dHRvbi1wcmV2Jyxcblx0fSxcblx0cGFnaW5hdGlvbjoge1xuXHRcdGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcblx0XHRjbGlja2FibGU6IHRydWUsXG5cdFx0ZHluYW1pY0J1bGxldHM6IHRydWUsXG5cdH0sXG59KTtcblxuY29uc3Qgc2VsZWN0ID0gKCkgPT4ge1xuXHRjb25zdCBzZWxlY3RDdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdF9faGVhZGVyJyksXG5cdFx0c2VsZWN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RfX2l0ZW0nKTtcblx0c2VsZWN0Q3VycmVudC5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3QtLW9wZW5lZCcpO1xuXHRcdH0pXG5cdH0pO1xuXHRzZWxlY3RJdGVtLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdGUuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc2VsZWN0JykucXVlcnlTZWxlY3RvcignLnNlbGVjdF9fY3VycmVudCcpLmlubmVySFRNTCA9IGUuY3VycmVudFRhcmdldC5pbm5lckhUTUw7XG5cdFx0XHRlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnNlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdC0tb3BlbmVkJyk7XG5cdFx0fSlcblx0fSk7XG59O1xuXG5zZWxlY3QoKTtcblxuY29uc3Qgc2FuZHdpY2ggPSBmdW5jdGlvbiAoKSB7XG5cdGNvbnN0IHNhbmR3aWNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoX19vcGVuLWJ0bicpO1xuXHRjb25zdCBzYW5kd2ljaENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoX19jbG9zZS1idG4nKTtcblx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zYW5kd2ljaF9fY29udGVudCcpO1xuXHRjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoX19tZW51Jyk7XG5cdGNvbnN0IHN1Ym1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2FuZHdpY2gtc3VibWVudScpO1xuXG5cdHNhbmR3aWNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG1lbnUuY2xhc3NMaXN0LmFkZCgnc2FuZHdpY2hfX21lbnUtLW9wZW5lZCcpO1xuXHRcdGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnc2FuZHdpY2hfX2NvbnRlbnQtLWFjdGl2ZScpO1xuXHRcdGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblx0fSk7XG5cblx0Y29udGVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoX19tZW51LS1vcGVuZWQnKTtcblx0XHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoX19jb250ZW50LS1hY3RpdmUnKTtcblx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuXHR9KTtcblxuXHRzYW5kd2ljaENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc2FuZHdpY2hfX21lbnUtLW9wZW5lZCcpO1xuXHRcdGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2FuZHdpY2hfX2NvbnRlbnQtLWFjdGl2ZScpO1xuXHRcdHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc2FuZHdpY2gtc3VibWVudS0tb3BlbmVkJyk7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcblx0fSk7XG59O1xuXG5zYW5kd2ljaCgpO1xuXG5jb25zdCBzdWJtZW51VG9nZ2xlID0gKCkgPT4ge1xuXHRjb25zdCBvcHRpb25CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2FuZHdpY2gtbmF2X19saW5rJyk7XG5cdGNvbnN0IGJhY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2FuZHdpY2gtc3VibWVudV9fYmFjaycpO1xuXHRjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zYW5kd2ljaC1zdWJtZW51X19jbG9zZScpO1xuXG5cdG9wdGlvbkJ0bi5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc2FuZHdpY2gtbmF2X19pdGVtJykucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoLXN1Ym1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdzYW5kd2ljaC1zdWJtZW51LS1vcGVuZWQnKTtcblx0XHR9KVxuXHR9KTtcblxuXHRiYWNrQnRuLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5zYW5kd2ljaC1uYXZfX2l0ZW0nKS5xdWVyeVNlbGVjdG9yKCcuc2FuZHdpY2gtc3VibWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoLXN1Ym1lbnUtLW9wZW5lZCcpO1xuXHRcdH0pXG5cdH0pO1xuXG5cdGNsb3NlQnRuLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5zYW5kd2ljaCcpLnF1ZXJ5U2VsZWN0b3IoJy5zYW5kd2ljaF9fbWVudScpLmNsYXNzTGlzdC5yZW1vdmUoJ3NhbmR3aWNoX19tZW51LS1vcGVuZWQnKTtcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnNhbmR3aWNoJykucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoX19jb250ZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnc2FuZHdpY2hfX2NvbnRlbnQtLWFjdGl2ZScpO1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuc2FuZHdpY2gtbmF2X19pdGVtJykucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoLXN1Ym1lbnUnKS5jbGFzc0xpc3QucmVtb3ZlKCdzYW5kd2ljaC1zdWJtZW51LS1vcGVuZWQnKTtcblx0XHR9KVxuXHR9KTtcbn07XG5cbnN1Ym1lbnVUb2dnbGUoKTtcblxuY29uc3QgdGFiID0gZnVuY3Rpb24gKCkge1xuXHRsZXQgdGFiTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMtbmF2X19pdGVtJyksIC8vINCS0YvQsdC40YDQsNC10Lwg0Y3Qu9C10LzQtdC90YLRiyDQvdCw0LLQuNCz0LDRhtC40Lgg0YLQsNCx0L7QslxuXHRcdHRhYkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicy1jb250ZW50X19pdGVtJyksIC8vINCS0YvQsdC40YDQsNC10Lwg0YHQsNC80Ysg0YLQsNCx0Ytcblx0XHR0YWJOYW1lOyAvLyDQn9C10YDQtdC80LXQvdC90LDRjyDQtNC70Y8g0LjQvNC10L3QuCDRgtCw0LHQsFxuXG5cdC8vINCf0YDQvtGF0L7QtNC40Lwg0YbQuNC60LvQvtC8INC/0L4g0LrQsNC20LTQvtC80YMg0Y3Qu9C10LzQtdC90YLRgyDQvdCw0LLQuNCz0LDRhtC40Lgg0Lgg0L3QsNCy0LXRiNC40LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCwg0LrQvtGC0L7RgNGL0Lkg0LLRi9C30YvQstCw0LXRgiDRhNGD0L3QutGG0LjRjiBzZWxlY3RUYWJOYXZcblx0dGFiTmF2LmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0VGFiTmF2KVxuXHR9KTtcblxuXHRmdW5jdGlvbiBzZWxlY3RUYWJOYXYoZXZ0KSB7XG5cdFx0ZXZ0LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnRhYnMtbmF2JykucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMtbmF2X19pdGVtJykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdFx0Ly8g0KPQtNCw0LvRj9C10Lwg0LDQutGC0LjQstC90YvQuSDQutC70LDRgdGBINGDINCy0YHQtdGFINGN0LvQtdC80LXQvdGC0L7QsiDQvdCw0LLQuNCz0LDRhtC40Lgg0YLQsNCx0L7QslxuXHRcdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd0YWJzLW5hdl9faXRlbS0tYWN0aXZlJyk7XG5cdFx0fSk7XG5cdFx0dGhpcy5jbGFzc0xpc3QuYWRkKCd0YWJzLW5hdl9faXRlbS0tYWN0aXZlJyk7ICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LDQutGC0LjQstC90YvQuSDRg9C60LvQsNGB0YEg0YMg0Y3Qu9C10LzQtdC90YLQsCDQv9C+INC60L7RgtC+0YDQvtC80YMg0LrQu9C40LrQvdGD0LvQuFxuXHRcdHRhYk5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10YWItbmFtZScpOyAvLyDQn9C+0LvRg9GH0LDQtdC8INC40LzRjyDRgtCw0LHQsCwg0LrQvtGC0L7RgNGL0Lkg0L3QsNC8INC90YPQttC10L1cblxuXHRcdGNvbnN0IHNlYXJjaEVsID0gZXZ0LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLnRhYnMtbmF2JykubmV4dEVsZW1lbnRTaWJsaW5nO1xuXHRcdGNvbnNvbGUubG9nKHNlYXJjaEVsKTtcblx0XHRzZWFyY2hFbCA/IHNlYXJjaEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzLWNvbnRlbnRfX2l0ZW0nKS5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRjb25zdCB7IGNsYXNzTGlzdCB9ID0gaXRlbTtcblx0XHRcdGNsYXNzTGlzdC5jb250YWlucyh0YWJOYW1lKSA/IGNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpIDogY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG5cdFx0fSkgOiBldnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcubmV3cy10YWJzJykucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMtY29udGVudF9faXRlbScpLmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdGNvbnN0IHsgY2xhc3NMaXN0IH0gPSBpdGVtO1xuXHRcdFx0Y2xhc3NMaXN0LmNvbnRhaW5zKHRhYk5hbWUpID8gY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJykgOiBjbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcblx0XHR9KTsgLy8g0JfQsNC/0YPRgdC60LDQtdC8INGE0YPQvdC60YbQuNGOLCDRh9GC0L7QsdGLINC/0L7QutCw0LfQsNGC0Ywg0LLRi9Cx0YDQsNC90L3Ri9C5INGC0LDQsVxuXHR9XG59O1xuXG50YWIoKTtcblxuY29uc3Qgc2VsZWN0Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdGNvbnN0IHNlbGVjdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdCcpO1xuXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRzZWxlY3RJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdC0tb3BlbmVkJyk7XG5cdFx0fSlcblx0fSk7XG5cblx0c2VsZWN0SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9KTtcblx0fSlcbn1cblxuc2VsZWN0Q2xvc2UoKTsiXSwiZmlsZSI6Im1haW4ubWluLmpzIn0=
